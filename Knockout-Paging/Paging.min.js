function PagingVM(n){var t=this,i;t.PageSize=ko.observable(n.pageSize);t.CurrentPage=ko.observable(1);t.TotalCount=ko.observable(n.totalCount);t.PageCount=ko.computed(function(){return Math.ceil(t.TotalCount()/t.PageSize())});t.SetCurrentPage=function(n){n<t.FirstPage&&(n=t.FirstPage);n>t.LastPage()&&(n=t.LastPage());t.CurrentPage(n)};t.FirstPage=1;t.LastPage=ko.computed(function(){return t.PageCount()});t.NextPage=ko.computed(function(){var n=t.CurrentPage()+1;return n>t.LastPage()?null:n});t.PreviousPage=ko.computed(function(){var n=t.CurrentPage()-1;return n<t.FirstPage?null:n});t.NeedPaging=ko.computed(function(){return t.PageCount()>1});t.NextPageActive=ko.computed(function(){return t.NextPage()!=null});t.PreviousPageActive=ko.computed(function(){return t.PreviousPage()!=null});t.LastPageActive=ko.computed(function(){return t.LastPage()!=t.CurrentPage()});t.FirstPageActive=ko.computed(function(){return t.FirstPage!=t.CurrentPage()});i=7;t.generateAllPages=function(){for(var i=[],n=t.FirstPage;n<=t.LastPage();n++)i.push(n);return i};t.generateMaxPage=function(){for(var e=t.CurrentPage(),o=t.PageCount(),s=t.FirstPage,n=e+parseInt((i-1)/2),r=e-parseInt((i-1)/2),f,u;n>o;)n--,r>s&&r--;while(r<s)r++,n<o&&n++;for(f=[],u=r;u<=n;u++)f.push(u);return f};t.GetPages=function(){return t.PageCount()<=i?t.generateAllPages():t.generateMaxPage()};t.Update=function(n){t.TotalCount(n.TotalCount);t.PageSize(n.PageSize);t.SetCurrentPage(n.CurrentPage)};t.GoToPage=function(n){n>=t.FirstPage&&n<=t.LastPage()&&t.SetCurrentPage(n)};t.GoToFirst=function(){t.SetCurrentPage(t.FirstPage)};t.GoToPrevious=function(){var n=t.PreviousPage();n!=null&&t.SetCurrentPage(n)};t.GoToNext=function(){var n=t.NextPage();n!=null&&t.SetCurrentPage(n)};t.GoToLast=function(){t.SetCurrentPage(t.LastPage())}}